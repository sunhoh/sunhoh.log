---
title: 'cache(캐시)란?'
date: '2024.04.10'
category: webdocument
description: '사용하고 있는 캐시에 대해 알고 있나?'
tags: ['cache']
---

![](/images/posts/cache/image.png)

## 캐싱이란?

컴퓨팅에서 캐시는 일반적으로 일시적인 특징이 있는 데이터 하위 집합을 저장하는 고속 데이터 스토리지 계층입니다.
따라서 이후에 해당 데이터에 대한 요청이 있을 경우 데이터의 기본 스토리지 위치에 액세스할 때보다 더 빠르게 요청을 처리할 수 있습니다.
캐싱을 사용하면 이전에 검색하거나 계산한 데이터를 효율적으로 재사용할 수 있습니다.

## 캐싱은 어떻게 동작하는가?

캐시의 데이터는 일반적으로 RAM(Random Access Memory)과 같이 빠르게 액세스할 수 있는 **하드웨어에 저장되며, 소프트웨어 구성 요소와 함께 사용**될 수도 있습니다. 캐시의 주요 목적은 더 느린 기본 스토리지 계층에 액세스해야 하는 필요를 줄임으로써 **데이터 검색 성능을 향상**하는 것입니다.
속도를 위해 용량을 절충하는 캐시는 일반적으로 데이터의 하위 집합을 일시적으로 저장합니다.

### 캐시의 종류

**CPU 캐시**
🖥️ 예시: L1, L2, L3 캐시

**메모리 캐시 (RAM 캐시)**
🖥️ 예시: 웹 브라우저에서 빠른 페이지 로딩

**디스크 캐시**
🖥️ 예시: HDD/SSD 성능 최적화

**웹 캐시**
🌐 예시: CDN(Content Delivery Network) 캐시

**데이터베이스 캐시**
💾 예시: Redis, Memcached

**네트워크 캐시**
🌍 예시: 프록시 서버 캐시


----

## 캐시를 알기전에 메모리는 어떻게 할당되는가?

#### RAM의 특징

전원을 끄면 저장된 내용이 사라지는 저장 장치인 **휘발성 저장 장치(volatile memory)**이다.
이와 반대로 전원이 꺼져도 저장된 내용이 유지되는 **비휘발성 저장 장치(non-volatile memory)**는 무엇이 있을까?
= 하드디스크, SSD, CD-ROM, USB 메모리와 같은 보조기억장치

CPU는 보조기억장치에 직접 접근을 할 수 없다.
∴ 실행할 대상 → RAM, 보관할 대상 → 보조기억장치 각각 저장
![](/images/posts/cache/image2.png)

#### RAM의 용량과 성능

보조기억장치에서 RAM에 프로그램을 가져오고, RAM의 프로그램을 CPU가 실행한다.
근데 만약 RAM의 용량이 작으면 보조기억장치에서 실행할 프로그램을 가져오는 일이 잦아져 실행 시간이 길어진다!
그렇다면 충분히 크다면?
⇒ 미리 RAM에 저장 & 많은 프로그램 동시에 실행하는데 유리
그럼 RAM의 용량에 비례하여 속도가 빨라질까?

⇒ NO!
(왜냐하면 RAM의 용량이 충분히 커진 이 후에는 속도가 그에 비례하여 증가하진 않는다! 어차피 이용할 것들을 RAM에 충분히 옮겨 놓을 수 있다면, RAM이 커진다고 비례하게 속도가 증가하지 않겠죠?)

---

>**캐시 교체 알고리즘이란?**
캐시는 한정된 크기의 메로리를 가지고 있기 때문에 새로운 데이터를 저장할 때 기존의 데이터를 삭제해야하는 경우가 있음
이 알고리즘의 목적은 캐시 히트율을 증가시키는것


### 1. 캐싱의 핵심 원리

1. **최초 요청 시**: 데이터를 가져와서 응답을 제공하고, 동시에 캐시에 저장.
2. **이후 요청 시**: 캐시에서 데이터를 불러와서 제공 → 빠름! 🚀

### 캐시의 저장 형태 (저장 방식 & 자료구조)

캐시는 주로 **빠른 조회 및 검색**이 가능해야 하므로, **다음과 같은 형태로 저장**됩니다.

#### **1) Key-Value Store (키-값 저장)**

- **가장 일반적인 형태**로, 특정 키(Key)에 대한 데이터를 값(Value)로 저장하는 방식.
- 보통 해시 테이블(Hash Table)을 사용하여 빠른 검색이 가능.

#### **2) 블록(Block) 또는 페이지(Page) 캐싱**

- CPU 및 스토리지 레벨에서 많이 사용되는 방식.
- 데이터가 일정 크기(블록 또는 페이지 단위)로 나뉘어 저장됨.

🔹 **예제 (CPU 캐시, 파일 시스템 캐시)**

#### **3) 트리(Tree) 구조 기반 캐싱**

- 데이터베이스 인덱스 캐싱 등에 사용됨.
- B-Tree, AVL Tree 등을 활용하여 **트리 형태로 저장**하여 검색 속도를 높임.

트리 구조를 활용하여 빠른 탐색이 가능 (이진 탐색 O(log N)).

#### **4) 리스트(List) 또는 큐(Queue)**

- LRU(Least Recently Used), LFU(Least Frequently Used) 등의 캐싱 정책을 적용할 때 사용됨.
- **최근 사용된 데이터를 앞쪽에 배치**하고, 오래된 데이터를 삭제하는 방식.


### 캐싱은 OSI 모델의 어디에서 동작할까?

캐싱은 **OSI 7계층 모델의 여러 계층에서 동작**할 수 있으며, 계층별로 캐싱을 가능하게 하는 요소들이 존재합니다.
![](/images/posts/cache/image3.png)


## 📢 결론

- **캐시는 OSI 모델의 여러 계층에서 사용되며, 계층마다 캐싱을 가능하게 하는 요소가 다름**
- **CPU 캐시, 네트워크 캐시, 세션 캐시, 브라우저 캐시 등 다양한 형태로 저장됨**
- **Key-Value Store, 블록 단위 저장, 트리 구조, 리스트 등 캐싱 방식이 데이터 특성에 따라 다르게 사용됨**
